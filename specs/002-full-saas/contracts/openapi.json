{
  "openapi": "3.0.3",
  "info": {
    "title": "Fllowup SaaS Platform API",
    "description": "RESTful API for project management with role-based access control (Manager, Team Leader, Team Member) and configurable project phases.",
    "version": "1.0.0",
    "contact": {
      "name": "Fllowup Development Team"
    }
  },
  "servers": [
    {
      "url": "http://localhost:3000/api/v1",
      "description": "Development server"
    },
    {
      "url": "https://api.fllowup.com/api/v1",
      "description": "Production server"
    }
  ],
  "tags": [
    {
      "name": "Authentication",
      "description": "OAuth 2.0/OIDC authentication flows"
    },
    {
      "name": "Projects",
      "description": "Project CRUD and dashboard operations"
    },
    {
      "name": "Phases",
      "description": "Phase management and status transitions"
    },
    {
      "name": "Tasks",
      "description": "Task management within phases"
    },
    {
      "name": "Team",
      "description": "Team member assignments and allocation"
    },
    {
      "name": "Costs",
      "description": "Project cost tracking"
    },
    {
      "name": "KPIs",
      "description": "Employee performance KPIs"
    },
    {
      "name": "Reports",
      "description": "Report generation and export"
    },
    {
      "name": "Configuration",
      "description": "Reference data and configuration management"
    }
  ],
  "paths": {
    "/auth/login": {
      "post": {
        "tags": ["Authentication"],
        "summary": "User login (Auth0)",
        "description": "Exchange Auth0 authorization code for JWT tokens. This endpoint is typically called by Auth0 universal login page redirect.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["code", "redirect_uri"],
                "properties": {
                  "code": {
                    "type": "string",
                    "description": "OAuth 2.0 authorization code"
                  },
                  "redirect_uri": {
                    "type": "string",
                    "format": "uri",
                    "description": "Redirect URI used in OAuth flow"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful, returns JWT tokens",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "access_token": {
                      "type": "string",
                      "description": "JWT access token"
                  },
                    "id_token": {
                      "type": "string",
                      "description": "JWT ID token containing user claims"
                  },
                    "refresh_token": {
                      "type": "string",
                      "description": "Refresh token for obtaining new access token"
                  },
                    "expires_in": {
                      "type": "integer",
                      "description": "Token expiration time in seconds"
                    },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "role": {
                          "type": "string",
                          "enum": ["MANAGER", "TEAM_LEADER", "TEAM_MEMBER"]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid authorization code"
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Refresh access token",
        "description": "Use refresh token to obtain new access token without user interaction.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["refresh_token"],
                "properties": {
                  "refresh_token": {
                    "type": "string",
                    "description": "Refresh token obtained from login"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token refreshed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "access_token": {
                      "type": "string"
                    },
                    "expires_in": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid or expired refresh token"
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": ["Authentication"],
        "summary": "User logout",
        "description": "Revoke current session and invalidate tokens.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "204": {
            "description": "Logout successful"
          },
          "401": {
            "description": "Not authenticated"
          }
        }
      }
    },
    "/projects": {
      "get": {
        "tags": ["Projects"],
        "summary": "List all projects",
        "description": "Retrieve paginated list of projects with optional filtering. Role-based filtering applies (Managers see all, Team Leaders see projects with assigned phases, Team Members see all but read-only).",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page (default: 100, max: 500)",
            "schema": {
              "type": "integer",
              "default": 100,
              "maximum": 500
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Filter by project status",
            "schema": {
              "type": "string",
              "enum": ["PLANNED", "IN_PROGRESS", "ON_HOLD", "CANCELLED", "COMPLETE"]
            }
          },
          {
            "name": "clientId",
            "in": "query",
            "description": "Filter by client ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search in name or contractCode",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Projects retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Project"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        },
                        "total": {
                          "type": "integer"
                        },
                        "totalPages": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          }
        }
      },
      "post": {
        "tags": ["Projects"],
        "summary": "Create new project",
        "description": "Create a new project. MANAGER role required. Creates default phases based on configuration.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProjectCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Project created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Project"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - MANAGER role required"
          }
        }
      }
    },
    "/projects/{id}": {
      "get": {
        "tags": ["Projects"],
        "summary": "Get project by ID",
        "description": "Retrieve detailed project information. Role-based: All roles can view, but Team Members see read-only.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Project retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectDetail"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Project not found"
          }
        }
      },
      "put": {
        "tags": ["Projects"],
        "summary": "Update project",
        "description": "Update project details. MANAGER role required. Uses optimistic locking (version field).",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProjectUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Project updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Project"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - MANAGER role required"
          },
          "404": {
            "description": "Project not found"
          },
          "409": {
            "description": "Conflict - version mismatch (concurrent edit)"
          }
        }
      },
      "delete": {
        "tags": ["Projects"],
        "summary": "Delete project",
        "description": "Delete a project and all associated data. MANAGER role required.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Project deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - MANAGER role required"
          },
          "404": {
            "description": "Project not found"
          }
        }
      }
    },
    "/projects/{id}/dashboard": {
      "get": {
        "tags": ["Projects"],
        "summary": "Get project dashboard summary",
        "description": "Retrieve dashboard summary data for a project including progress, team assignments, and key metrics.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dashboard data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardSummary"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Project not found"
          }
        }
      }
    },
    "/projects/{id}/phases": {
      "get": {
        "tags": ["Phases"],
        "summary": "Get phases for project",
        "description": "Retrieve all phases for a project in order. Role-based: All roles can view.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Phases retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Phase"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Project not found"
          }
        }
      }
    },
    "/phases/{phaseId}": {
      "put": {
        "tags": ["Phases"],
        "summary": "Update phase",
        "description": "Update phase details or status. MANAGER can update any phase. Team Leader can only update assigned phase. Uses optimistic locking.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "phaseId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PhaseUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Phase updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Phase"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          },
          "404": {
            "description": "Phase not found"
          },
          "409": {
            "description": "Conflict - version mismatch"
          }
        }
      }
    },
    "/phases/{phaseId}/team-leader": {
      "post": {
        "tags": ["Phases"],
        "summary": "Assign team leader to phase",
        "description": "Assign a team leader to a phase. MANAGER role required.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "phaseId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["userId"],
                "properties": {
                  "userId": {
                    "type": "string",
                    "description": "User ID to assign as team leader"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Team leader assigned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Phase"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - MANAGER role required"
          },
          "404": {
            "description": "Phase or user not found"
          }
        }
      },
      "delete": {
        "tags": ["Phases"],
        "summary": "Remove team leader from phase",
        "description": "Remove team leader assignment from phase. MANAGER role required.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "phaseId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Team leader removed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Phase"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - MANAGER role required"
          },
          "404": {
            "description": "Phase not found"
          }
        }
      }
    },
    "/phases/{phaseId}/tasks": {
      "get": {
        "tags": ["Tasks"],
        "summary": "Get tasks for phase",
        "description": "Retrieve all tasks for a phase. Role-based: All roles can view, Team Members see read-only.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "phaseId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Filter by task status",
            "schema": {
              "type": "string",
              "enum": ["TODO", "IN_PROGRESS", "COMPLETE"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tasks retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Task"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Phase not found"
          }
        }
      },
      "post": {
        "tags": ["Tasks"],
        "summary": "Create task",
        "description": "Create a new task. MANAGER can create tasks in any phase. Team Leader can only create tasks in assigned phase.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "phaseId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Task created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Task"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          },
          "404": {
            "description": "Phase not found"
          }
        }
      }
    },
    "/tasks/{taskId}": {
      "put": {
        "tags": ["Tasks"],
        "summary": "Update task",
        "description": "Update task details or status. MANAGER can update any task. Team Leader can only update tasks in assigned phase. Uses optimistic locking.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Task updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Task"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          },
          "404": {
            "description": "Task not found"
          },
          "409": {
            "description": "Conflict - version mismatch"
          }
        }
      },
      "delete": {
        "tags": ["Tasks"],
        "summary": "Delete task",
        "description": "Delete a task. MANAGER can delete any task. Team Leader can only delete tasks in assigned phase.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Task deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          },
          "404": {
            "description": "Task not found"
          }
        }
      }
    },
    "/phases/{phaseId}/assignments": {
      "get": {
        "tags": ["Team"],
        "summary": "Get assignments for phase",
        "description": "Retrieve all team member assignments for a phase. Role-based: All roles can view.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "phaseId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Assignments retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Assignment"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Phase not found"
          }
        }
      },
      "post": {
        "tags": ["Team"],
        "summary": "Assign team member to phase",
        "description": "Assign a team member to a phase with allocation percentage. MANAGER can assign to any phase. Team Leader can only assign to assigned phase.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "phaseId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AssignmentCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Assignment created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Assignment"
                }
              }
            }
          },
          "400": {
            "description": "Validation error or over-allocation (>100%)"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          },
          "404": {
            "description": "Phase or user not found"
          }
        }
      }
    },
    "/team/allocation": {
      "get": {
        "tags": ["Team"],
        "summary": "Get team allocation summary",
        "description": "Retrieve allocation summary for all team members. Shows total allocation percentage across all active phases with over-allocation warnings.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "projectId",
            "in": "query",
            "description": "Filter by project ID (optional)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Allocation summary retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AllocationSummary"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/assignments/{assignmentId}": {
      "delete": {
        "tags": ["Team"],
        "summary": "Remove team member assignment",
        "description": "Remove a team member from a phase. MANAGER can remove any assignment. Team Leader can only remove from assigned phase.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "assignmentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Assignment removed successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          },
          "404": {
            "description": "Assignment not found"
          }
        }
      }
    },
    "/projects/{projectId}/costs": {
      "get": {
        "tags": ["Costs"],
        "summary": "Get project costs",
        "description": "Retrieve all cost entries for a project. Role-based: All roles can view, Team Members see read-only.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "projectId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "category",
            "in": "query",
            "description": "Filter by cost category",
            "schema": {
              "type": "string",
              "enum": ["EMPLOYEE", "MATERIAL", "EQUIPMENT", "OVERHEAD"]
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "description": "Filter costs from this date (YYYY-MM-DD)",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "Filter costs until this date (YYYY-MM-DD)",
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Costs retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CostEntry"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Project not found"
          }
        }
      },
      "post": {
        "tags": ["Costs"],
        "summary": "Create cost entry",
        "description": "Add a cost entry to a project. MANAGER can add costs to any project. Team Leader can only add costs to projects with assigned phase.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "projectId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CostEntryCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Cost entry created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CostEntry"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          },
          "404": {
            "description": "Project not found"
          }
        }
      }
    },
    "/costs/summary": {
      "get": {
        "tags": ["Costs"],
        "summary": "Get cost summary",
        "description": "Retrieve cost summary grouped by category. MANAGER and Team Leader role required.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "projectId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Cost summary retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CostSummary"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - MANAGER or TEAM_LEADER role required"
          }
        }
      }
    },
    "/costs/{costId}": {
      "put": {
        "tags": ["Costs"],
        "summary": "Update cost entry",
        "description": "Update a cost entry. MANAGER can update any cost. Team Leader can only update costs in projects with assigned phase. Uses optimistic locking.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "costId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CostEntryUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Cost entry updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CostEntry"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          },
          "404": {
            "description": "Cost entry not found"
          },
          "409": {
            "description": "Conflict - version mismatch"
          }
        }
      },
      "delete": {
        "tags": ["Costs"],
        "summary": "Delete cost entry",
        "description": "Delete a cost entry. MANAGER can delete any cost. Team Leader can only delete costs in projects with assigned phase.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "costId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
        ]
        },
        "responses": {
          "204": {
            "description": "Cost entry deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          },
          "404": {
            "description": "Cost entry not found"
          }
        }
      }
    },
    "/employees/{employeeId}/kpis": {
      "get": {
        "tags": ["KPIs"],
        "summary": "Get employee KPIs",
        "description": "Retrieve performance KPIs for an employee. Role-based: Managers see all KPIs. Team Leaders see KPIs for their assigned phase. Team Members see own KPIs only.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "employeeId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "in": "query",
            "description": "Filter by KPI type",
            "schema": {
              "type": "string",
              "enum": ["DELAYED_TASKS", "CLIENT_MODIFICATIONS", "TECHNICAL_MISTAKES"]
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "description": "Filter KPIs from this date (YYYY-MM-DD)",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "Filter KPIs until this date (YYYY-MM-DD)",
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "KPIs retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/KPIEntry"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          },
          "404": {
            "description": "Employee not found"
          }
        }
      },
      "post": {
        "tags": ["KPIs"],
        "summary": "Record KPI entry",
        "description": "Record a performance KPI for an employee. MANAGER role required.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "employeeId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KPIEntryCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "KPI entry created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KPIEntry"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - MANAGER role required"
          },
          "404": {
            "description": "Employee not found"
          }
        }
      }
    },
    "/kpis/summary": {
      "get": {
        "tags": ["KPIs"],
        "summary": "Get KPI summary",
        "description": "Retrieve KPI summary grouped by type and employee. MANAGER and Team Leader role required.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "projectId",
            "in": "query",
            "description": "Filter by project ID (optional)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "phaseId",
            "in": "query",
            "description": "Filter by phase ID (optional)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "description": "Filter KPIs from this date (YYYY-MM-DD)",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "Filter KPIs until this date (YYYY-MM-DD)",
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "KPI summary retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KPISummary"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - MANAGER or TEAM_LEADER role required"
          }
        }
      }
    },
    "/kpis/{kpiId}": {
      "delete": {
        "tags": ["KPIs"],
        "summary": "Delete KPI entry",
        "description": "Delete a KPI entry. MANAGER role required.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "kpiId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "KPI entry deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - MANAGER role required"
          },
          "404": {
            "description": "KPI entry not found"
          }
        }
      }
    },
    "/reports/project/{projectId}/follow-up": {
      "get": {
        "tags": ["Reports"],
        "summary": "Generate project follow-up report",
        "description": "Generate PDF project follow-up report including project details, phase status, tasks, and team information. MANAGER and Team Leader role required.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "projectId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "format",
            "in": "query",
            "description": "Report format",
            "schema": {
              "type": "string",
              "enum": ["pdf", "excel"],
              "default": "pdf"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Report generated successfully",
            "content": {
              "application/pdf": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - MANAGER or TEAM_LEADER role required"
          },
          "404": {
            "description": "Project not found"
          }
        }
      }
    },
    "/reports/employee/{employeeId}/summary": {
      "get": {
        "tags": ["Reports"],
        "summary": "Generate employee summary report",
        "description": "Generate PDF/Excel employee summary report including assignments, tasks, and performance KPIs. MANAGER and Team Leader role required.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "employeeId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "format",
            "in": "query",
            "description": "Report format",
            "schema": {
              "type": "string",
              "enum": ["pdf", "excel"],
              "default": "pdf"
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "description": "Report start date (YYYY-MM-DD)",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "Report end date (YYYY-MM-DD)",
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Report generated successfully",
            "content": {
              "application/pdf": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - MANAGER or TEAM_LEADER role required"
          },
          "404": {
            "description": "Employee not found"
          }
        }
      }
    },
    "/projects/{projectId}/timeline": {
      "get": {
        "tags": ["Reports"],
        "summary": "Get project timeline",
        "description": "Retrieve timeline data for a project including phases, start/end dates, dependencies. Role-based: All roles can view.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "projectId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Timeline data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Timeline"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Project not found"
          }
        }
      }
    },
    "/configuration/{category}": {
      "get": {
        "tags": ["Configuration"],
        "summary": "Get configuration by category",
        "description": "Retrieve active configuration items for a category. Role-based: All roles can view.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "category",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "enum": ["PHASE_NAMES", "PROJECT_TYPES", "LICENSE_TYPES"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Configuration retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ConfigurationItem"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/configuration": {
      "post": {
        "tags": ["Configuration"],
        "summary": "Create or update configuration",
        "description": "Create a new configuration item or update existing. MANAGER role required.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfigurationItemCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Configuration created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigurationItem"
                }
              }
            }
          },
          "200": {
            "description": "Configuration updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigurationItem"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - MANAGER role required"
          }
        }
      },
      "delete": {
        "tags": ["Configuration"],
        "summary": "Delete configuration",
        "description": "Delete a configuration item. MANAGER role required.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["category", "key"],
                "properties": {
                  "category": {
                    "type": "string",
                    "enum": ["PHASE_NAMES", "PROJECT_TYPES", "LICENSE_TYPES"]
                  },
                  "key": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Configuration deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - MANAGER role required"
          },
          "404": {
            "description": "Configuration item not found"
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": ["Health"],
        "summary": "Health check",
        "description": "System health check endpoint for monitoring.",
        "responses": {
          "200": {
            "description": "System healthy",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "healthy"
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2026-01-23T10:00:00.000Z"
                    },
                    "database": {
                      "type": "string",
                      "example": "connected"
                    },
                    "redis": {
                      "type": "string",
                      "example": "connected"
                    }
                  }
                }
              }
            }
          },
          "503": {
            "description": "Service unhealthy"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT token from Auth0 login"
      }
    },
    "schemas": {
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "name": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": ["MANAGER", "TEAM_LEADER", "TEAM_MEMBER"]
          }
        }
      },
      "Client": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "contact": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "phone": {
            "type": "string"
          },
          "address": {
            "type": "string"
          }
        }
      },
      "Project": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "clientId": {
            "type": "string"
          },
          "contractCode": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": ["PLANNED", "IN_PROGRESS", "ON_HOLD", "CANCELLED", "COMPLETE"]
          },
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "estimatedEndDate": {
            "type": "string",
            "format": "date-time"
          },
          "actualEndDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "builtUpArea": {
            "type": "integer"
          },
          "licenseType": {
            "type": "string"
          },
          "projectType": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "version": {
            "type": "integer"
          }
        }
      },
      "ProjectDetail": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Project"
          },
          {
            "type": "object",
            "properties": {
              "client": {
                "$ref": "#/components/schemas/Client"
              },
              "phases": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Phase"
                }
              },
              "manager": {
                "$ref": "#/components/schemas/User"
              }
            }
          }
        ]
      },
      "ProjectCreateRequest": {
        "type": "object",
        "required": ["clientId", "contractCode", "name", "startDate", "estimatedEndDate"],
        "properties": {
          "clientId": {
            "type": "string"
          },
          "contractCode": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "estimatedEndDate": {
            "type": "string",
            "format": "date-time"
          },
          "builtUpArea": {
            "type": "integer"
          },
          "licenseType": {
            "type": "string"
          },
          "projectType": {
            "type": "string"
          },
          "description": {
            "type": "string"
          }
        }
      },
      "ProjectUpdateRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": ["PLANNED", "IN_PROGRESS", "ON_HOLD", "CANCELLED", "COMPLETE"]
          },
          "estimatedEndDate": {
            "type": "string",
            "format": "date-time"
          },
          "actualEndDate": {
            "type": "string",
            "format": "date-time"
          },
          "builtUpArea": {
            "type": "integer"
          },
          "licenseType": {
            "type": "string"
          },
          "projectType": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "version": {
            "type": "integer",
            "description": "Required for optimistic locking"
          }
        }
      },
      "Phase": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "projectId": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "phaseOrder": {
            "type": "integer"
          },
          "status": {
            "type": "string",
            "enum": ["PLANNED", "IN_PROGRESS", "COMPLETE", "ON_HOLD", "CANCELLED"]
          },
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "teamLeaderId": {
            "type": "string",
            "nullable": true
          },
          "teamLeader": {
            "$ref": "#/components/schemas/User"
          },
          "version": {
            "type": "integer"
          }
        }
      },
      "PhaseUpdateRequest": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": ["PLANNED", "IN_PROGRESS", "COMPLETE", "ON_HOLD", "CANCELLED"]
          },
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "endDate": {
            "type": "string",
            "format": "date-time"
          },
          "version": {
            "type": "integer",
            "description": "Required for optimistic locking"
          }
        }
      },
      "Task": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "phaseId": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "duration": {
            "type": "integer"
          },
          "status": {
            "type": "string",
            "enum": ["TODO", "IN_PROGRESS", "COMPLETE"]
          },
          "startDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "createdByUserId": {
            "type": "string",
            "nullable": true
          },
          "createdBy": {
            "$ref": "#/components/schemas/User"
          },
          "assignedToUserId": {
            "type": "string",
            "nullable": true
          },
          "assignedTo": {
            "$ref": "#/components/schemas/User"
          },
          "version": {
            "type": "integer"
          }
        }
      },
      "TaskCreateRequest": {
        "type": "object",
        "required": ["description", "duration"],
        "properties": {
          "description": {
            "type": "string"
          },
          "duration": {
            "type": "integer",
            "minimum": 1
          },
          "assignedToUserId": {
            "type": "string"
          }
        }
      },
      "TaskUpdateRequest": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": ["TODO", "IN_PROGRESS", "COMPLETE"]
          },
          "duration": {
            "type": "integer"
          },
          "assignedToUserId": {
            "type": "string"
          },
          "version": {
            "type": "integer",
            "description": "Required for optimistic locking"
          }
        }
      },
      "Assignment": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "phaseId": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": ["TEAM_LEADER", "TEAM_MEMBER"]
          },
          "workingPercent": {
            "type": "integer",
            "minimum": 0,
            "maximum": 100
          },
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "user": {
            "$ref": "#/components/schemas/User"
          }
        }
      },
      "AssignmentCreateRequest": {
        "type": "object",
        "required": ["userId", "workingPercent"],
        "properties": {
          "userId": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": ["TEAM_LEADER", "TEAM_MEMBER"],
            "default": "TEAM_MEMBER"
          },
          "workingPercent": {
            "type": "integer",
            "minimum": 0,
            "maximum": 100
          }
        }
      },
      "AllocationSummary": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          },
          "userName": {
            "type": "string"
          },
          "userRole": {
            "type": "string",
            "enum": ["MANAGER", "TEAM_LEADER", "TEAM_MEMBER"]
          },
          "totalAllocation": {
            "type": "integer"
          },
          "isOverAllocated": {
            "type": "boolean"
          },
          "assignments": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "phaseId": {
                  "type": "string"
                },
                "phaseName": {
                  "type": "string"
                },
                "workingPercent": {
                  "type": "integer"
                }
              }
            }
          }
        }
      },
      "CostEntry": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "projectId": {
            "type": "string"
          },
          "category": {
            "type": "string",
            "enum": ["EMPLOYEE", "MATERIAL", "EQUIPMENT", "OVERHEAD"]
          },
          "description": {
            "type": "string"
          },
          "amount": {
            "type": "number",
            "format": "decimal"
          },
          "currency": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "version": {
            "type": "integer"
          }
        }
      },
      "CostEntryCreateRequest": {
        "type": "object",
        "required": ["category", "amount"],
        "properties": {
          "category": {
            "type": "string",
            "enum": ["EMPLOYEE", "MATERIAL", "EQUIPMENT", "OVERHEAD"]
          },
          "description": {
            "type": "string"
          },
          "amount": {
            "type": "number",
            "format": "decimal",
            "minimum": 0
          }
        }
      },
      "CostEntryUpdateRequest": {
        "type": "object",
        "properties": {
          "category": {
            "type": "string",
            "enum": ["EMPLOYEE", "MATERIAL", "EQUIPMENT", "OVERHEAD"]
          },
          "description": {
            "type": "string"
          },
          "amount": {
            "type": "number",
            "format": "decimal"
          },
          "version": {
            "type": "integer",
            "description": "Required for optimistic locking"
          }
        }
      },
      "CostSummary": {
        "type": "object",
        "properties": {
          "totalAmount": {
            "type": "number",
            "format": "decimal"
          },
          "currency": {
            "type": "string"
          },
          "byCategory": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "category": {
                  "type": "string"
                },
                "amount": {
                  "type": "number",
                  "format": "decimal"
                },
                "percentage": {
                  "type": "number"
                }
              }
            }
          }
        }
      },
      "KPIEntry": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "projectId": {
            "type": "string",
            "nullable": true
          },
          "phaseId": {
            "type": "string",
            "nullable": true
          },
          "type": {
            "type": "string",
            "enum": ["DELAYED_TASKS", "CLIENT_MODIFICATIONS", "TECHNICAL_MISTAKES"]
          },
          "description": {
            "type": "string"
          },
          "count": {
            "type": "integer"
          },
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "version": {
            "type": "integer"
          }
        }
      },
      "KPIEntryCreateRequest": {
        "type": "object",
        "required": ["type", "description"],
        "properties": {
          "type": {
            "type": "string",
            "enum": ["DELAYED_TASKS", "CLIENT_MODIFICATIONS", "TECHNICAL_MISTAKES"]
          },
          "description": {
            "type": "string"
          },
          "count": {
            "type": "integer",
            "default": 1
          },
          "projectId": {
            "type": "string"
          },
          "phaseId": {
            "type": "string"
          }
        }
      },
      "KPISummary": {
        "type": "object",
        "properties": {
          "byEmployee": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "userId": {
                  "type": "string"
                },
                "userName": {
                  "type": "string"
                },
                "kpis": {
                  "type": "object",
                  "properties": {
                    "DELAYED_TASKS": {
                      "type": "integer"
                    },
                    "CLIENT_MODIFICATIONS": {
                      "type": "integer"
                    },
                    "TECHNICAL_MISTAKES": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "byType": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string"
                },
                "total": {
                  "type": "integer"
                },
                "topEmployees": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "userId": {
                        "type": "string"
                      },
                      "userName": {
                        "type": "string"
                      },
                      "count": {
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "ConfigurationItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "category": {
            "type": "string",
            "enum": ["PHASE_NAMES", "PROJECT_TYPES", "LICENSE_TYPES"]
          },
          "key": {
            "type": "string"
          },
          "value": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "sortOrder": {
            "type": "integer"
          }
        }
      },
      "ConfigurationItemCreateRequest": {
        "type": "object",
        "required": ["category", "key", "value"],
        "properties": {
          "category": {
            "type": "string",
            "enum": ["PHASE_NAMES", "PROJECT_TYPES", "LICENSE_TYPES"]
          },
          "key": {
            "type": "string"
          },
          "value": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean",
            "default": true
          },
          "sortOrder": {
            "type": "integer"
          }
        }
      },
      "DashboardSummary": {
        "type": "object",
        "properties": {
          "project": {
            "$ref": "#/components/schemas/Project"
          },
          "phases": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Phase"
            }
          },
          "teamSize": {
            "type": "integer"
          },
          "totalTasks": {
            "type": "integer"
          },
          "completedTasks": {
            "type": "integer"
          },
          "progress": {
            "type": "number"
          },
          "totalCost": {
            "type": "number",
            "format": "decimal"
          }
        }
      },
      "Timeline": {
        "type": "object",
        "properties": {
          "projectId": {
            "type": "string"
          },
          "projectName": {
            "type": "string"
          },
          "phases": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "phaseOrder": {
                  "type": "integer"
                },
                "status": {
                  "type": "string"
                },
                "startDate": {
                  "type": "string",
                  "format": "date-time"
                },
                "endDate": {
                  "type": "string",
                  "format": "date-time",
                  "nullable": true
                },
                "taskCount": {
                  "type": "integer"
                },
                "completedTaskCount": {
                  "type": "integer"
                }
              }
            }
          }
        }
      },
      "Error": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "details": {
            "type": "object"
          }
        }
      }
    }
  }
}
